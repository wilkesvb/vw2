jQuery(document).ready(function(e){e(".delete-tag").live("click",function(t){var n=e(this),r=n.parents("tr"),i=!0,s;"undefined"!=showNotice&&(i=showNotice.warn());if(i){s=n.attr("href").replace(/[^?]*\?/,"").replace(/action=delete/,"action=delete-tag");e.post(ajaxurl,s,function(t){if("1"==t){e("#ajax-response").empty();r.fadeOut("normal",function(){r.remove()});e('select#parent option[value="'+s.match(/tag_ID=(\d+)/)[1]+'"]').remove();e("a.tag-link-"+s.match(/tag_ID=(\d+)/)[1]).remove()}else if("-1"==t){e("#ajax-response").empty().append('<div class="error"><p>'+tagsl10n.noPerm+"</p></div>");r.children().css("backgroundColor","")}else{e("#ajax-response").empty().append('<div class="error"><p>'+tagsl10n.broken+"</p></div>");r.children().css("backgroundColor","")}});r.children().css("backgroundColor","#f33")}return!1});e("#submit").click(function(){var t=e(this).parents("form");if(!validateForm(t))return!1;e.post(ajaxurl,e("#addtag").serialize(),function(n){e("#ajax-response").empty();var r=wpAjax.parseAjaxResponse(n,"ajax-response");if(!r||r.errors)return;var i=t.find("select#parent").val();i>0&&e("#tag-"+i).length>0?e(".tags #tag-"+i).after(r.responses[0].supplemental.noparents):e(".tags").prepend(r.responses[0].supplemental.parents);e(".tags .no-items").remove();if(t.find("select#parent")){var s=r.responses[1].supplemental,o="";for(var u=0;u<r.responses[1].position;u++)o+="&nbsp;&nbsp;&nbsp;";t.find("select#parent option:selected").after('<option value="'+s.term_id+'">'+o+s.name+"</option>")}e('input[type="text"]:visible, textarea:visible',t).val("")});return!1})});